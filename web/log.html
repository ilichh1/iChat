<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Log in</title>
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/log.css">
    </head>
    <body>
        <header class="">

        </header>
        <div class="container col-md-4">
            <div class=" card card-login card content-center mx-auto mt-5">
                <div class="card-header">  Login  </div>
                <div class="card-body">
                    <form class="col-md-4" id="formulario-login">

                        <fieldset class="row justify-content-md-center">

                            <p class="card-text">Usuario: </p><input type="text" name="nickname" required><br>

                            <p class="card-text">Contrase√±a: </p><input type="password" name="password" required><br>

                            <button type="submit" class="btn btn-primary" role="button">Entrar</button>
                            <br>

                            <a class="btn btn-light" href="index.html" role="button">Registrate</a>

                        </fieldset><br>

                    </form>
                </div>
            </div>
            <div id="server-responses" class="alert alert-primary" role="alert"></div>
        </div>

        <script src="js/popper.js"></script>
        <script src="js/jquery-3.2.1.min.js"></script>
        <script src="js/bootstrap.js"></script>
        <script>
            var serverResponses = document.getElementById("server-responses");
            var formulario = document.getElementById("formulario-login");

            var onFormSubmit = function (e) {
                e.preventDefault();
                $.post(
                        "login",
                        $(formulario).serialize(),
                        function (serverResponse) {
                            $(formulario).show();
                            window.console.log(serverResponse);
                        });
            };

            serverResponses.setNewClass = function (newClass) {
                $(this).removeClass();
                $(this).addClass(newClass);
            };
            formulario.onsubmit = onFormSubmit;

            serverResponses.printMessage = function (msg) {
                span = document.createElement("SPAN");
                br = document.createElement("BR");
                span.innerHTML = msg;
                this.appendChild(span);
                this.appendChild(br)
            };
        </script>

    </body>
</html>
